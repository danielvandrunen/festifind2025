# FestiFind CI/CD Process

This document outlines the Continuous Integration and Continuous Deployment (CI/CD) process for the FestiFind application.

## Overview

The CI/CD process for FestiFind consists of:

1. Git-based version control
2. Manual testing and verification
3. Release tagging
4. Automated deployment to Vercel

## Development Workflow

1. Make changes to the codebase
2. Test changes locally using `npm run dev`
3. Commit changes to Git
4. Create a release using the `release.sh` script
5. Deploy to Vercel

## Release Process

The `release.sh` script automates the release and deployment process:

```bash
./release.sh [options]
```

Options:
- `--major`: Increment major version (x.0.0)
- `--minor`: Increment minor version (0.x.0)
- `--patch`: Increment patch version (0.0.x)
- `--tag <version>`: Specify exact version tag (e.g., v1.2.3)
- `--message/-m <message>`: Specify a custom commit message
- `--help`: Show help message

Example:
```bash
./release.sh --patch
```

## What the Release Script Does

1. Checks for uncommitted changes and offers to commit them
2. Creates a new Git tag based on semantic versioning
3. Pushes the tag to the remote repository
4. Prepares the application for deployment:
   - Temporarily modifies `next.config.js` if needed for API route compatibility
   - Runs a build check to ensure everything compiles
5. Deploys the application to Vercel using `vercel deploy --prod`
6. Restores any temporary configuration changes

## Deployment to Vercel

The application is automatically deployed to Vercel when:
- A new release is created using the `release.sh` script
- Changes are pushed to the main branch (if configured in Vercel)

## Deployment URLs

- Production: https://festifind-app.vercel.app/
- Preview (for PR previews): Generated by Vercel

## Troubleshooting

If deployment fails:

1. Check the Vercel build logs using `vercel logs <deployment-url>`
2. Run a local build check using `npm run build`
3. Ensure API routes are compatible with your Next.js configuration
4. Verify that all environment variables are properly set in Vercel

## Docker Environment (Development)

For local development using Docker:

```bash
./docker/cli.sh dev    # Start development environment
./docker/cli.sh stop   # Stop containers
./docker/cli.sh logs   # View logs
```

## Additional Info

- The application uses Next.js with API routes
- Supabase is used for the database and authentication
- Environment variables are required for proper configuration 